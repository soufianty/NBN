// Translations for the AI PDF Designer
const translations = {
    ar: {
        templates: 'القوالب',
        ai_assistant: 'المساعد الذكي',
        recent: 'حديث',
        settings: 'الإعدادات',
        search_templates: 'بحث القوالب...',
        blank_document: 'مستند فارغ',
        business_letter: 'خطاب تجاري',
        resume: 'سيرة ذاتية',
        report: 'تقرير',
        invoice: 'فاتورة',
        contract: 'عقد',
        ai_quick_actions: 'إجراءات سريعة',
        generate_content: 'توليد محتوى',
        improve_text: 'تحسين النص',
        translate: 'ترجمة',
        summarize: 'تلخيص',
        recent_documents: 'المستندات الحديثة',
        no_recent: 'لا توجد مستندات حديثة',
        font_settings: 'إعدادات الخط',
        font_family: 'نوع الخط',
        font_size: 'حجم الخط',
        document_title: 'عنوان المستند',
        save: 'حفظ',
        export_pdf: 'تصدير PDF',
        processing: 'جاري المعالجة...',
        document_saved: 'تم حفظ المستند',
        pdf_exported: 'تم تصدير PDF',
        error: 'حدث خطأ',
        start_typing: 'ابدأ الكتابة هنا...',
        select_template: 'اختر قالب من الشريط الجانبي للبدء',
        ai_content_generated: 'تم توليد المحتوى بالذكاء الاصطناعي',
        text_improved: 'تم تحسين النص',
        text_translated: 'تم ترجمة النص',
        text_summarized: 'تم تلخيص النص'
    },
    en: {
        templates: 'Templates',
        ai_assistant: 'AI Assistant',
        recent: 'Recent',
        settings: 'Settings',
        search_templates: 'Search templates...',
        blank_document: 'Blank Document',
        business_letter: 'Business Letter',
        resume: 'Resume',
        report: 'Report',
        invoice: 'Invoice',
        contract: 'Contract',
        ai_quick_actions: 'Quick Actions',
        generate_content: 'Generate Content',
        improve_text: 'Improve Text',
        translate: 'Translate',
        summarize: 'Summarize',
        recent_documents: 'Recent Documents',
        no_recent: 'No recent documents',
        font_settings: 'Font Settings',
        font_family: 'Font Family',
        font_size: 'Font Size',
        document_title: 'Document Title',
        save: 'Save',
        export_pdf: 'Export PDF',
        processing: 'Processing...',
        document_saved: 'Document saved',
        pdf_exported: 'PDF exported',
        error: 'An error occurred',
        start_typing: 'Start typing here...',
        select_template: 'Select a template from the sidebar to get started',
        ai_content_generated: 'Content generated with AI',
        text_improved: 'Text improved',
        text_translated: 'Text translated',
        text_summarized: 'Text summarized'
    },
    fr: {
        templates: 'Modèles',
        ai_assistant: 'Assistant IA',
        recent: 'Récent',
        settings: 'Paramètres',
        search_templates: 'Rechercher des modèles...',
        blank_document: 'Document vierge',
        business_letter: 'Lettre commerciale',
        resume: 'CV',
        report: 'Rapport',
        invoice: 'Facture',
        contract: 'Contrat',
        ai_quick_actions: 'Actions rapides',
        generate_content: 'Générer du contenu',
        improve_text: 'Améliorer le texte',
        translate: 'Traduire',
        summarize: 'Résumer',
        recent_documents: 'Documents récents',
        no_recent: 'Aucun document récent',
        font_settings: 'Paramètres de police',
        font_family: 'Police',
        font_size: 'Taille de police',
        document_title: 'Titre du document',
        save: 'Enregistrer',
        export_pdf: 'Exporter PDF',
        processing: 'Traitement...',
        document_saved: 'Document enregistré',
        pdf_exported: 'PDF exporté',
        error: 'Une erreur s\'est produite',
        start_typing: 'Commencez à taper ici...',
        select_template: 'Sélectionnez un modèle dans la barre latérale pour commencer',
        ai_content_generated: 'Contenu généré avec l\'IA',
        text_improved: 'Texte amélioré',
        text_translated: 'Texte traduit',
        text_summarized: 'Texte résumé'
    },
    es: {
        templates: 'Plantillas',
        ai_assistant: 'Asistente IA',
        recent: 'Reciente',
        settings: 'Configuración',
        search_templates: 'Buscar plantillas...',
        blank_document: 'Documento en blanco',
        business_letter: 'Carta comercial',
        resume: 'Currículum',
        report: 'Informe',
        invoice: 'Factura',
        contract: 'Contrato',
        ai_quick_actions: 'Acciones rápidas',
        generate_content: 'Generar contenido',
        improve_text: 'Mejorar texto',
        translate: 'Traducir',
        summarize: 'Resumir',
        recent_documents: 'Documentos recientes',
        no_recent: 'No hay documentos recientes',
        font_settings: 'Configuración de fuente',
        font_family: 'Familia de fuente',
        font_size: 'Tamaño de fuente',
        document_title: 'Título del documento',
        save: 'Guardar',
        export_pdf: 'Exportar PDF',
        processing: 'Procesando...',
        document_saved: 'Documento guardado',
        pdf_exported: 'PDF exportado',
        error: 'Ocurrió un error',
        start_typing: 'Comience a escribir aquí...',
        select_template: 'Seleccione una plantilla de la barra lateral para comenzar',
        ai_content_generated: 'Contenido generado con IA',
        text_improved: 'Texto mejorado',
        text_translated: 'Texto traducido',
        text_summarized: 'Texto resumido'
    },
    de: {
        templates: 'Vorlagen',
        ai_assistant: 'KI-Assistent',
        recent: 'Kürzlich',
        settings: 'Einstellungen',
        search_templates: 'Vorlagen suchen...',
        blank_document: 'Leeres Dokument',
        business_letter: 'Geschäftsbrief',
        resume: 'Lebenslauf',
        report: 'Bericht',
        invoice: 'Rechnung',
        contract: 'Vertrag',
        ai_quick_actions: 'Schnellaktionen',
        generate_content: 'Inhalt generieren',
        improve_text: 'Text verbessern',
        translate: 'Übersetzen',
        summarize: 'Zusammenfassen',
        recent_documents: 'Kürzliche Dokumente',
        no_recent: 'Keine kürzlichen Dokumente',
        font_settings: 'Schrifteinstellungen',
        font_family: 'Schriftfamilie',
        font_size: 'Schriftgröße',
        document_title: 'Dokumenttitel',
        save: 'Speichern',
        export_pdf: 'PDF exportieren',
        processing: 'Verarbeitung...',
        document_saved: 'Dokument gespeichert',
        pdf_exported: 'PDF exportiert',
        error: 'Ein Fehler ist aufgetreten',
        start_typing: 'Hier tippen...',
        select_template: 'Wählen Sie eine Vorlage aus der Seitenleiste aus, um zu beginnen',
        ai_content_generated: 'Inhalt mit KI generiert',
        text_improved: 'Text verbessert',
        text_translated: 'Text übersetzt',
        text_summarized: 'Text zusammengefasst'
    },
    zh: {
        templates: '模板',
        ai_assistant: 'AI助手',
        recent: '最近',
        settings: '设置',
        search_templates: '搜索模板...',
        blank_document: '空白文档',
        business_letter: '商务信函',
        resume: '简历',
        report: '报告',
        invoice: '发票',
        contract: '合同',
        ai_quick_actions: '快速操作',
        generate_content: '生成内容',
        improve_text: '改进文本',
        translate: '翻译',
        summarize: '总结',
        recent_documents: '最近的文档',
        no_recent: '没有最近的文档',
        font_settings: '字体设置',
        font_family: '字体系列',
        font_size: '字体大小',
        document_title: '文档标题',
        save: '保存',
        export_pdf: '导出PDF',
        processing: '处理中...',
        document_saved: '文档已保存',
        pdf_exported: 'PDF已导出',
        error: '发生错误',
        start_typing: '开始在这里输入...',
        select_template: '从侧边栏选择模板开始',
        ai_content_generated: '用AI生成的内容',
        text_improved: '文本已改进',
        text_translated: '文本已翻译',
        text_summarized: '文本已总结'
    },
    hi: {
        templates: 'टेम्प्लेट',
        ai_assistant: 'AI सहायक',
        recent: 'हाल ही का',
        settings: 'सेटिंग्स',
        search_templates: 'टेम्प्लेट खोजें...',
        blank_document: 'खाली दस्तावेज़',
        business_letter: 'व्यावसायिक पत्र',
        resume: 'रिज्यूमे',
        report: 'रिपोर्ट',
        invoice: 'चालान',
        contract: 'अनुबंध',
        ai_quick_actions: 'त्वरित कार्य',
        generate_content: 'सामग्री बनाएं',
        improve_text: 'पाठ सुधारें',
        translate: 'अनुवाद करें',
        summarize: 'संक्षेप करें',
        recent_documents: 'हाल के दस्तावेज़',
        no_recent: 'कोई हाल के दस्तावेज़ नहीं',
        font_settings: 'फ़ॉन्ट सेटिंग्स',
        font_family: 'फ़ॉन्ट फ़ैमिली',
        font_size: 'फ़ॉन्ट साइज़',
        document_title: 'दस्तावेज़ शीर्षक',
        save: 'सेव करें',
        export_pdf: 'PDF निर्यात करें',
        processing: 'प्रोसेसिंग...',
        document_saved: 'दस्तावेज़ सेव किया गया',
        pdf_exported: 'PDF निर्यात किया गया',
        error: 'एक त्रुटि हुई',
        start_typing: 'यहाँ टाइप करना शुरू करें...',
        select_template: 'शुरू करने के लिए साइडबार से टेम्प्लेट चुनें',
        ai_content_generated: 'AI के साथ सामग्री बनाई गई',
        text_improved: 'पाठ सुधारा गया',
        text_translated: 'पाठ अनुवादित',
        text_summarized: 'पाठ संक्षेपित'
    }
};

// Translation function
function t(key, language = currentLanguage) {
    return translations[language] && translations[language][key] 
        ? translations[language][key] 
        : translations.ar[key] || key;
}

// Current language
let currentLanguage = 'ar';

// Update translations in the UI
function updateTranslations() {
    const elements = document.querySelectorAll('[data-i18n]');
    elements.forEach(element => {
        const key = element.getAttribute('data-i18n');
        element.textContent = t(key);
    });
    
    const placeholderElements = document.querySelectorAll('[data-i18n-placeholder]');
    placeholderElements.forEach(element => {
        const key = element.getAttribute('data-i18n-placeholder');
        element.placeholder = t(key);
    });
}

// Set language
function setLanguage(lang) {
    currentLanguage = lang;
    
    // Update direction
    const isRTL = ['ar', 'he', 'fa'].includes(lang);
    document.documentElement.dir = isRTL ? 'rtl' : 'ltr';
    document.documentElement.lang = lang;
    
    // Update fonts based on language
    const fontFamily = lang === 'ar' ? 'Cairo' : 
                      lang === 'zh' ? 'Microsoft YaHei' : 
                      'Inter';
    document.documentElement.style.setProperty('--font-family', `'${fontFamily}', sans-serif`);
    
    // Update translations
    updateTranslations();
    
    // Update editor placeholder
    const editor = document.getElementById('editor');
    if (editor) {
        editor.setAttribute('data-placeholder', t('start_typing'));
    }
    
    // Save language preference
    localStorage.setItem('preferredLanguage', lang);
}

// Initialize language
function initializeLanguage() {
    const savedLanguage = localStorage.getItem('preferredLanguage') || 'ar';
    const languageSelect = document.getElementById('languageSelect');
    
    if (languageSelect) {
        languageSelect.value = savedLanguage;
    }
    
    setLanguage(savedLanguage);
}